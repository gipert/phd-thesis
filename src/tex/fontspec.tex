\usepackage{fontspec}
\setmonofont{Fira Code}[Contextuals=Alternate, Scale=MatchLowercase]

\usepackage{listings}
\usepackage[usebox=false, autoload=false, verbatim=true]{tex/jlcode} % this must be loaded before unicode-math

\lstdefinelanguage{json}{%
    showspaces=false,
    showtabs=false,
    breaklines=true,
    upquote=true,
    morestring=[b]",
    morecomment=[l]{\/\/},%
}[strings]

\lstdefinestyle{jsonstyle}{%
    basicstyle={\ttfamily\scriptsize},
    stringstyle={\loadcolors\color{jlbase}},
    commentstyle={\loadcolors\color{jlcomment}},
    literate=%
     *{0}{{{\loadcolors\color{jlbase}0}}}{1}
      {1}{{{\loadcolors\color{jlbase}1}}}{1}
      {2}{{{\loadcolors\color{jlbase}2}}}{1}
      {3}{{{\loadcolors\color{jlbase}3}}}{1}
      {4}{{{\loadcolors\color{jlbase}4}}}{1}
      {5}{{{\loadcolors\color{jlbase}5}}}{1}
      {6}{{{\loadcolors\color{jlbase}6}}}{1}
      {7}{{{\loadcolors\color{jlbase}7}}}{1}
      {8}{{{\loadcolors\color{jlbase}8}}}{1}
      {9}{{{\loadcolors\color{jlbase}9}}}{1}
      {:}{{{\loadcolors\color{jlkeyword}{:}}}}{1}
      {,}{{{\loadcolors\color{jlkeyword}{,}}}}{1}
      {\{}{{{\loadcolors\color{jlmacros}{\{}}}}{1}
      {\}}{{{\loadcolors\color{jlmacros}{\}}}}}{1}
      {[}{{{\loadcolors\color{jlmacros}{[}}}}{1}
      {]}{{{\loadcolors\color{jlmacros}{]}}}}{1},
}

\usepackage[lining]{ebgaramond}
\newcommand{\yr}{\oldstylenums}
\usepackage[math-style=ISO, bold-style=ISO]{unicode-math}
\setmathfont{Garamond-Math.otf}[StylisticSet={7,8}]
\newcommand{\decorationA}{{\Huge\char"E001\char"E002}}
\newcommand{\decorationB}{{\Huge\char"2619\char"2767}}
\newcommand{\decorationC}{{\Huge\char"2766}}
\newcommand{\darkred}{\addfontfeature{Color=980000}}
\newcommand{\textdarkred}[1]{{\darkred#1}}
\usepackage{lettrine}
\newcommand{\initial}[2]{\lettrine[lines=3, depth=1, findent=2pt, nindent=0em]{\textin{#1}}{#2}}

\renewcommand{\operatorname}[1]{\mathcal{#1}}

\ebgaramondlgr{}
